/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package unidos.ies.ln;

import com.google.gson.Gson;
import com.google.gson.JsonSyntaxException;
import unidos.ies.ad.DocenteAD;
import unidos.importacion.dtic.Titulos;
import unidos.importacion.dtic.UsuarioDTIC;

/**
 *
 * @author Jorge Zaruma
 */
public class DocenteLN {

    Gson G = new Gson();

    public DocenteAD DocenteInformacion(String cedula) {
        String result = null;
        DocenteAD docenteAD = null;
        try {
            ServiciosDTICLista serviciosDTICLista = new ServiciosDTICLista();
            String url = "http://pruebas.espoch.edu.ec:8080/hojavidaAD/wshojavida/personadadocedula/" + cedula;
//            String strJson = "{'eciId':{'eciCodigo':'CAS','eciId':2,'eciNombre':'CASADO/A'},'etnId':{'etnCodigo':'AFR','etnId':2,'etnNombre':'AFROECUATORIANO/A'},'perCedula':'0801808270','perCiudadanoecu':false,'perEmail':'jcdiazo@espoch.edu.ec','perEmailalternativo':'jcdiazo@gmail.com','perEnfermedadcatas':false,'perEstadolab':false,'perFamiliarenfermedad':false,'perFechanacimiento':'1978-11-09T00:00:00-05:00','perId':5,'perLicencia':false,'perNombres':'JUAN CARLOS','perPrimerapellido':'DIAZ','perProcedencia':'6|6|3|2|16','perSegundoapellido':'ORDOÑEZ','perTelefonocasa':'(032) 622-354','perTelefonocelular':'(099) 684-2304','perTipodiscapacidad':false,'perVisa':false,'sexId':{'sexCodigo':'MAS','sexId':1,'sexNombre':'MASCULINO'},'tsaId':{'tsaId':7,'tsaNombre':'O+'}}";//serviciosDTICLista.getJsonConsulta(url);
            String strJson = serviciosDTICLista.getJsonConsulta(url);
            UsuarioDTIC usuarioDTIC = null;
            Titulos[] tituloses = null;
            if (strJson != null) {
                usuarioDTIC = G.fromJson(strJson, UsuarioDTIC.class);
                url = "http://pruebas.espoch.edu.ec:8080/hojavidaAD/wshojavida/ListaInsFormalid/" + usuarioDTIC.getPerId();
                strJson = serviciosDTICLista.getJsonConsulta(url);//"[{'ifoEstado':false,'ifoFecharegistro':'1996-01-20T00:00:00-05:00','ifoId':87,'ifoRegistro':'536006','ifoSenescyt':true,'ifoTiempo':6,'ifoUnidadtiempo':'AÑOS','perId':{'eciId':{'eciCodigo':'CAS','eciId':2,'eciNombre':'CASADO/A'},'etnId':{'etnCodigo':'AFR','etnId':2,'etnNombre':'AFROECUATORIANO/A'},'perCedula':'0801808270','perCiudadanoecu':false,'perEmail':'jcdiazo@espoch.edu.ec','perEmailalternativo':'jcdiazo@gmail.com','perEnfermedadcatas':false,'perEstadolab':false,'perFamiliarenfermedad':false,'perFechanacimiento':'1978-11-09T00:00:00-05:00','perId':5,'perLicencia':false,'perNombres':'JUAN CARLOS','perPrimerapellido':'DIAZ','perProcedencia':'6|6|3|2|16','perSegundoapellido':'ORDOÑEZ','perTelefonocasa':'(032) 622-354','perTelefonocelular':'(099) 684-2304','perTipodiscapacidad':false,'perVisa':false,'sexId':{'sexCodigo':'MAS','sexId':1,'sexNombre':'MASCULINO'},'tsaId':{'tsaId':7,'tsaNombre':'O+'}},'tacId':{'insId':{'insId':35,'insNombre':'COLEGIO DE BACHILLERATO FISCOMISIONAL SAGRADO CORAZON'},'tacId':1,'titId':{'naaId':{'naaId':2,'naaNombre':'SECUNDARIA'},'titId':2,'titNombre':'CIENCIAS INFORMATICA'}}},{'ifoEstado':false,'ifoFecharegistro':'2009-06-24T00:00:00-05:00','ifoId':88,'ifoRegistro':'1007-09-693904','ifoSenescyt':true,'ifoTiempo':0,'ifoUnidadtiempo':'AÑOS','perId':{'eciId':{'eciCodigo':'CAS','eciId':2,'eciNombre':'CASADO/A'},'etnId':{'etnCodigo':'AFR','etnId':2,'etnNombre':'AFROECUATORIANO/A'},'perCedula':'0801808270','perCiudadanoecu':false,'perEmail':'jcdiazo@espoch.edu.ec','perEmailalternativo':'jcdiazo@gmail.com','perEnfermedadcatas':false,'perEstadolab':false,'perFamiliarenfermedad':false,'perFechanacimiento':'1978-11-09T00:00:00-05:00','perId':5,'perLicencia':false,'perNombres':'JUAN CARLOS','perPrimerapellido':'DIAZ','perProcedencia':'6|6|3|2|16','perSegundoapellido':'ORDOÑEZ','perTelefonocasa':'(032) 622-354','perTelefonocelular':'(099) 684-2304','perTipodiscapacidad':false,'perVisa':false,'sexId':{'sexCodigo':'MAS','sexId':1,'sexNombre':'MASCULINO'},'tsaId':{'tsaId':7,'tsaNombre':'O+'}},'tacId':{'insId':{'insId':36,'insNombre':'UNIVERSIDAD DE CUENCA'},'tacId':2,'titId':{'naaId':{'naaId':4,'naaNombre':'CUARTO NIVEL'},'titId':3,'titNombre':'DIPLOMA SUPERIOR EN FORMULACION Y EVALUACION DE PROYECTOS DE INVESTIGACION'}}},{'ifoEstado':false,'ifoFecharegistro':'2006-04-17T00:00:00-05:00','ifoId':89,'ifoRegistro':'1002-06-677453','ifoSenescyt':true,'ifoTiempo':0,'ifoUnidadtiempo':'AÑOS','perId':{'eciId':{'eciCodigo':'CAS','eciId':2,'eciNombre':'CASADO/A'},'etnId':{'etnCodigo':'AFR','etnId':2,'etnNombre':'AFROECUATORIANO/A'},'perCedula':'0801808270','perCiudadanoecu':false,'perEmail':'jcdiazo@espoch.edu.ec','perEmailalternativo':'jcdiazo@gmail.com','perEnfermedadcatas':false,'perEstadolab':false,'perFamiliarenfermedad':false,'perFechanacimiento':'1978-11-09T00:00:00-05:00','perId':5,'perLicencia':false,'perNombres':'JUAN CARLOS','perPrimerapellido':'DIAZ','perProcedencia':'6|6|3|2|16','perSegundoapellido':'ORDOÑEZ','perTelefonocasa':'(032) 622-354','perTelefonocelular':'(099) 684-2304','perTipodiscapacidad':false,'perVisa':false,'sexId':{'sexCodigo':'MAS','sexId':1,'sexNombre':'MASCULINO'},'tsaId':{'tsaId':7,'tsaNombre':'O+'}},'tacId':{'insId':{'insId':34,'insNombre':'ESCUELA SUPERIOR POLITECNICA DE CHIMBORAZO'},'tacId':3,'titId':{'naaId':{'naaId':3,'naaNombre':'TERCER NIVEL'},'titId':4,'titNombre':'INGENIERO EN SISTEMAS INFORMATICOS'}}},{'ifoEstado':false,'ifoFecharegistro':'2005-06-20T00:00:00-05:00','ifoId':90,'ifoRegistro':'1002-05-582841','ifoSenescyt':true,'ifoTiempo':0,'ifoUnidadtiempo':'AÑOS','perId':{'eciId':{'eciCodigo':'CAS','eciId':2,'eciNombre':'CASADO/A'},'etnId':{'etnCodigo':'AFR','etnId':2,'etnNombre':'AFROECUATORIANO/A'},'perCedula':'0801808270','perCiudadanoecu':false,'perEmail':'jcdiazo@espoch.edu.ec','perEmailalternativo':'jcdiazo@gmail.com','perEnfermedadcatas':false,'perEstadolab':false,'perFamiliarenfermedad':false,'perFechanacimiento':'1978-11-09T00:00:00-05:00','perId':5,'perLicencia':false,'perNombres':'JUAN CARLOS','perPrimerapellido':'DIAZ','perProcedencia':'6|6|3|2|16','perSegundoapellido':'ORDOÑEZ','perTelefonocasa':'(032) 622-354','perTelefonocelular':'(099) 684-2304','perTipodiscapacidad':false,'perVisa':false,'sexId':{'sexCodigo':'MAS','sexId':1,'sexNombre':'MASCULINO'},'tsaId':{'tsaId':7,'tsaNombre':'O+'}},'tacId':{'insId':{'insId':34,'insNombre':'ESCUELA SUPERIOR POLITECNICA DE CHIMBORAZO'},'tacId':4,'titId':{'naaId':{'naaId':6,'naaNombre':'TECNICO SUPERIOR'},'titId':5,'titNombre':'ANALISTA EN SISTEMAS INFORMATICOS'}}},{'ifoEstado':false,'ifoFecharegistro':'2013-07-11T00:00:00-05:00','ifoId':91,'ifoRegistro':'1002-13-86037327','ifoSenescyt':true,'ifoTiempo':0,'ifoUnidadtiempo':'AÑOS','perId':{'eciId':{'eciCodigo':'CAS','eciId':2,'eciNombre':'CASADO/A'},'etnId':{'etnCodigo':'AFR','etnId':2,'etnNombre':'AFROECUATORIANO/A'},'perCedula':'0801808270','perCiudadanoecu':false,'perEmail':'jcdiazo@espoch.edu.ec','perEmailalternativo':'jcdiazo@gmail.com','perEnfermedadcatas':false,'perEstadolab':false,'perFamiliarenfermedad':false,'perFechanacimiento':'1978-11-09T00:00:00-05:00','perId':5,'perLicencia':false,'perNombres':'JUAN CARLOS','perPrimerapellido':'DIAZ','perProcedencia':'6|6|3|2|16','perSegundoapellido':'ORDOÑEZ','perTelefonocasa':'(032) 622-354','perTelefonocelular':'(099) 684-2304','perTipodiscapacidad':false,'perVisa':false,'sexId':{'sexCodigo':'MAS','sexId':1,'sexNombre':'MASCULINO'},'tsaId':{'tsaId':7,'tsaNombre':'O+'}},'tacId':{'insId':{'insId':34,'insNombre':'ESCUELA SUPERIOR POLITECNICA DE CHIMBORAZO'},'tacId':5,'titId':{'naaId':{'naaId':4,'naaNombre':'CUARTO NIVEL'},'titId':6,'titNombre':'MAGISTER EN INFORMATICA EDUCATIVA'}}}]";//serviciosDTICLista.getJsonConsulta(url);
                tituloses = G.fromJson(strJson, Titulos[].class);
                docenteAD = new DocenteAD();
                docenteAD.DocenteInformacion(usuarioDTIC, tituloses);
                result = G.toJson(docenteAD);
            }
//            } else {
//                strJson = "{'eciId':{'eciCodigo':'CAS','eciId':2,'eciNombre':'CASADO/A'},'etnId':{'etnCodigo':'AFR','etnId':2,'etnNombre':'AFROECUATORIANO/A'},'perCedula':'0000000000','perCiudadanoecu':false,'perEmail':'email@espoch.edu.ec','perEmailalternativo':'email@gmail.com','perEnfermedadcatas':false,'perEstadolab':false,'perFamiliarenfermedad':false,'perFechanacimiento':'1978-11-09T00:00:00-05:00','perId':5,'perLicencia':false,'perNombres':'Nombre1 Nombre2','perPrimerapellido':'Apellido1','perProcedencia':'6|6|3|2|16','perSegundoapellido':'Apellido2','perTelefonocasa':'(032) 622-354','perTelefonocelular':'(000) 000-0000','perTipodiscapacidad':false,'perVisa':false,'sexId':{'sexCodigo':'MAS','sexId':1,'sexNombre':'MASCULINO'},'tsaId':{'tsaId':7,'tsaNombre':'O+'}}";//serviciosDTICLista.getJsonConsulta(url);
//                usuarioDTIC = G.fromJson(strJson, UsuarioDTIC.class);
//                strJson = "[{'ifoEstado':false,'ifoFecharegistro':'1996-01-20T00:00:00-05:00','ifoId':87,'ifoRegistro':'536006','ifoSenescyt':true,'ifoTiempo':6,'ifoUnidadtiempo':'AÑOS','perId':{'eciId':{'eciCodigo':'CAS','eciId':2,'eciNombre':'CASADO/A'},'etnId':{'etnCodigo':'AFR','etnId':2,'etnNombre':'AFROECUATORIANO/A'},'perCedula':'0801808270','perCiudadanoecu':false,'perEmail':'jcdiazo@espoch.edu.ec','perEmailalternativo':'jcdiazo@gmail.com','perEnfermedadcatas':false,'perEstadolab':false,'perFamiliarenfermedad':false,'perFechanacimiento':'1978-11-09T00:00:00-05:00','perId':5,'perLicencia':false,'perNombres':'Nombre1 Nombre2','perPrimerapellido':'Apellido1','perProcedencia':'6|6|3|2|16','perSegundoapellido':'Apellido2','perTelefonocasa':'(032) 622-354','perTelefonocelular':'(000) 000-0000','perTipodiscapacidad':false,'perVisa':false,'sexId':{'sexCodigo':'MAS','sexId':1,'sexNombre':'MASCULINO'},'tsaId':{'tsaId':7,'tsaNombre':'O+'}},'tacId':{'insId':{'insId':35,'insNombre':'COLEGIO DE BACHILLERATO FISCOMISIONAL SAGRADO CORAZON'},'tacId':1,'titId':{'naaId':{'naaId':2,'naaNombre':'SECUNDARIA'},'titId':2,'titNombre':'CIENCIAS INFORMATICA'}}},{'ifoEstado':false,'ifoFecharegistro':'2009-06-24T00:00:00-05:00','ifoId':88,'ifoRegistro':'1007-09-693904','ifoSenescyt':true,'ifoTiempo':0,'ifoUnidadtiempo':'AÑOS','perId':{'eciId':{'eciCodigo':'CAS','eciId':2,'eciNombre':'CASADO/A'},'etnId':{'etnCodigo':'AFR','etnId':2,'etnNombre':'AFROECUATORIANO/A'},'perCedula':'0801808270','perCiudadanoecu':false,'perEmail':'jcdiazo@espoch.edu.ec','perEmailalternativo':'jcdiazo@gmail.com','perEnfermedadcatas':false,'perEstadolab':false,'perFamiliarenfermedad':false,'perFechanacimiento':'1978-11-09T00:00:00-05:00','perId':5,'perLicencia':false,'perNombres':'Nombre1 Nombre2','perPrimerapellido':'Apellido1','perProcedencia':'6|6|3|2|16','perSegundoapellido':'Apellido2','perTelefonocasa':'(032) 622-354','perTelefonocelular':'(099) 684-2304','perTipodiscapacidad':false,'perVisa':false,'sexId':{'sexCodigo':'MAS','sexId':1,'sexNombre':'MASCULINO'},'tsaId':{'tsaId':7,'tsaNombre':'O+'}},'tacId':{'insId':{'insId':36,'insNombre':'UNIVERSIDAD DE CUENCA'},'tacId':2,'titId':{'naaId':{'naaId':4,'naaNombre':'CUARTO NIVEL'},'titId':3,'titNombre':'DIPLOMA SUPERIOR EN FORMULACION Y EVALUACION DE PROYECTOS DE INVESTIGACION'}}},{'ifoEstado':false,'ifoFecharegistro':'2006-04-17T00:00:00-05:00','ifoId':89,'ifoRegistro':'1002-06-677453','ifoSenescyt':true,'ifoTiempo':0,'ifoUnidadtiempo':'AÑOS','perId':{'eciId':{'eciCodigo':'CAS','eciId':2,'eciNombre':'CASADO/A'},'etnId':{'etnCodigo':'AFR','etnId':2,'etnNombre':'AFROECUATORIANO/A'},'perCedula':'0801808270','perCiudadanoecu':false,'perEmail':'jcdiazo@espoch.edu.ec','perEmailalternativo':'jcdiazo@gmail.com','perEnfermedadcatas':false,'perEstadolab':false,'perFamiliarenfermedad':false,'perFechanacimiento':'1978-11-09T00:00:00-05:00','perId':5,'perLicencia':false,'perNombres':'JUAN CARLOS','perPrimerapellido':'DIAZ','perProcedencia':'6|6|3|2|16','perSegundoapellido':'ORDOÑEZ','perTelefonocasa':'(032) 622-354','perTelefonocelular':'(099) 684-2304','perTipodiscapacidad':false,'perVisa':false,'sexId':{'sexCodigo':'MAS','sexId':1,'sexNombre':'MASCULINO'},'tsaId':{'tsaId':7,'tsaNombre':'O+'}},'tacId':{'insId':{'insId':34,'insNombre':'ESCUELA SUPERIOR POLITECNICA DE CHIMBORAZO'},'tacId':3,'titId':{'naaId':{'naaId':3,'naaNombre':'TERCER NIVEL'},'titId':4,'titNombre':'INGENIERO EN SISTEMAS INFORMATICOS'}}},{'ifoEstado':false,'ifoFecharegistro':'2005-06-20T00:00:00-05:00','ifoId':90,'ifoRegistro':'1002-05-582841','ifoSenescyt':true,'ifoTiempo':0,'ifoUnidadtiempo':'AÑOS','perId':{'eciId':{'eciCodigo':'CAS','eciId':2,'eciNombre':'CASADO/A'},'etnId':{'etnCodigo':'AFR','etnId':2,'etnNombre':'AFROECUATORIANO/A'},'perCedula':'0801808270','perCiudadanoecu':false,'perEmail':'jcdiazo@espoch.edu.ec','perEmailalternativo':'jcdiazo@gmail.com','perEnfermedadcatas':false,'perEstadolab':false,'perFamiliarenfermedad':false,'perFechanacimiento':'1978-11-09T00:00:00-05:00','perId':5,'perLicencia':false,'perNombres':'JUAN CARLOS','perPrimerapellido':'DIAZ','perProcedencia':'6|6|3|2|16','perSegundoapellido':'ORDOÑEZ','perTelefonocasa':'(032) 622-354','perTelefonocelular':'(099) 684-2304','perTipodiscapacidad':false,'perVisa':false,'sexId':{'sexCodigo':'MAS','sexId':1,'sexNombre':'MASCULINO'},'tsaId':{'tsaId':7,'tsaNombre':'O+'}},'tacId':{'insId':{'insId':34,'insNombre':'ESCUELA SUPERIOR POLITECNICA DE CHIMBORAZO'},'tacId':4,'titId':{'naaId':{'naaId':6,'naaNombre':'TECNICO SUPERIOR'},'titId':5,'titNombre':'ANALISTA EN SISTEMAS INFORMATICOS'}}},{'ifoEstado':false,'ifoFecharegistro':'2013-07-11T00:00:00-05:00','ifoId':91,'ifoRegistro':'1002-13-86037327','ifoSenescyt':true,'ifoTiempo':0,'ifoUnidadtiempo':'AÑOS','perId':{'eciId':{'eciCodigo':'CAS','eciId':2,'eciNombre':'CASADO/A'},'etnId':{'etnCodigo':'AFR','etnId':2,'etnNombre':'AFROECUATORIANO/A'},'perCedula':'0801808270','perCiudadanoecu':false,'perEmail':'jcdiazo@espoch.edu.ec','perEmailalternativo':'jcdiazo@gmail.com','perEnfermedadcatas':false,'perEstadolab':false,'perFamiliarenfermedad':false,'perFechanacimiento':'1978-11-09T00:00:00-05:00','perId':5,'perLicencia':false,'perNombres':'Nombre1 Nombre2','perPrimerapellido':'Apellido1','perProcedencia':'6|6|3|2|16','perSegundoapellido':'Apellido2','perTelefonocasa':'(032) 622-354','perTelefonocelular':'(099) 684-2304','perTipodiscapacidad':false,'perVisa':false,'sexId':{'sexCodigo':'MAS','sexId':1,'sexNombre':'MASCULINO'},'tsaId':{'tsaId':7,'tsaNombre':'O+'}},'tacId':{'insId':{'insId':34,'insNombre':'ESCUELA SUPERIOR POLITECNICA DE CHIMBORAZO'},'tacId':5,'titId':{'naaId':{'naaId':4,'naaNombre':'CUARTO NIVEL'},'titId':6,'titNombre':'MAGISTER EN INFORMATICA EDUCATIVA'}}}]";//serviciosDTICLista.getJsonConsulta(url);
//                tituloses = G.fromJson(strJson, Titulos[].class);
//            }

        } catch (JsonSyntaxException e) {
        }
        return docenteAD;

    }

}
